<!DOCTYPE html>
<html>
<head>
  <title>Gloomhaven Timeline</title>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
  <style type='text/css'>
    html,bod {
      font-family: 'Open Sans', sans-serif
    }

    @font-face {
      font-family: gloomhavenFont;
      src: url(./css/PirataOne-Regular.ttf);
      font-weight: normal;
    }

    h1,h2,h3,h4,h5, .timeline-title{
      font-family: 'gloomhavenFont', serif;
      font-size: 1em !important;
    }

    h1 {
      font-size: 2em;
    }

    span.timeline-title {
      font-size: 1.5em;
    }


    .timeline-item{
    	list-style: none;
    	border-left: 1px solid black;
    	border-top: 1px solid black;
    	border-right: 10px solid black;
    	border-bottom: 10px solid black;
    	border-radius: 25px;
    	padding: 25px;
    	margin-bottom: 50px;
    	/*opacity: 0.05 !important;*/
    }

    @keyframes jerkIntoView {
        0% {background-color: #555; opacity: 0.05; transform: scale(0.1) translate3d(0,0,0);}
        25%{opacity: 0.25; transform: scale(0.5);}
    	50%{opacity: 0.45; transform: scale(0.9);}
    	75%{opacity: 0.75; transform: scale(1.5);}
    	100%{background-color: #401154; opacity: 1 !important; transform: scale(1) translate3d(0,0,0);}
    }

    @keyframes fadeIntoView {
        0% {background-color: #555; opacity: 0.05; transform: scale(0.1) translate3d(0,0,0);}
        25%{opacity: 0.25;}
    	50%{opacity: 0.45; transform: scale(0.5);}
    	75%{opacity: 0.75;}
    	100%{background-color: #401154; opacity: 1 !important; transform: scale(1) translate3d(0,0,0);}
    }

    .timeline-year.inViewport{
    	background-color: rgba(97, 56, 18, 0.93);
    }

    .timeline-year{
    	margin-top: 20px;
    	padding-top: 20px;
    	font-size: 5em;
    }

    .yearAnchor{
    	/*padding-bottom: 100px;
    	margin-bottom: 100px;
    	content: ' ';*/
    }

    .inViewport{
    	background-color: #401154;
    	color: yellow;
    	animation-name: fadeIntoView;
    	animation-duration: 0.25s;
    	animation-iteration-count: 1;
        transition: all 0.5s ease-in-out;
    	/*margin-bottom: 75px;*/
    	/*list-style-type: circle;
    	color: white;*/

    }

    .timeline-heading{
    	font-size: 2em;
    	padding: 0 0 20px 0;
    }

    a.top-link{
    	border: 1px solid black;
    	border-radius: 25px;
    	padding: 10px 15px;
    	background: #401154;
    	width: 25px;
    	text-decoration: none;
    }

    a.top-link::after{
    	content: "\219F";
    }

    #yearSelect, #tagSelect{
    	list-style: none inside;
    }

    #yearSelect li, #tagSelect li{
    	display: inline;
    }

    li.tagLink{
    	/*padding: 10px;*/
    	text-decoration: none;
    	margin-left: 1px;
    	font-size: 1.2em;
    	font-weight: bolder;
    }

    li.yearLink{
    	/*padding: 10px;*/
    	text-decoration: none;
    	margin-left: 1px;
    	font-size: 1.2em;
    	font-weight: bolder;
    }


    button{
    	padding: 10px;
    }

    button a{
    	text-decoration: none;
    }

    .timeline-main{
    	margin: 0 auto;
    	left: -20px;
    	position: relative;
    	padding: 5px 10px;
    }

    .timeline-list{
    	list-style: none;
    }

    .timeline-panel{

    }

    .timeline-point{
    	float: both;
    	content: " ";
    	border-radius:5px;
    	/*border: 1px solid white;
    	background: #401154;*/
    }

    .timeline-point:hover{
    	content: " ";
    	border-radius:5px;
    	border: 1px solid white;
    	background: yellow;
    }

    .timeline-time{
    	/*font-size: 0.75em;*/
    	font-variant: italic;
    	font-weight: bolder;
    }

    .timeline-tags{
    	font-weight: bold;
    	font-size: 0.85em;
    	font-variant: italic;
    	font-family: 'Console', serif;
    	border: 1px solid yellow;
    	/*background: #a2b;*/
    	padding: 5px;
    }

    .timeline-title{
    	/*font-size: 1.25em;*/
    	font-weight: bolder;
    	color: white;
    }

    .timeline-main-title{
    	/*text-align: center;*/
    	padding: 5px 40px;
    	font-size: 1.25em;
    	font-weight: bolder;
    	color: white;
    }

    .timeline-filters{
    	padding: 5px 40px;
    }

    .timeline-desc{

    }


    /* Tooltip container */
    .tooltip {
      position: relative;
      display: inline-block;
      border-bottom: 1px dotted black; /* If you want dots under the hoverable text */
    }

    /* Tooltip text */
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 120px;
      background-color: #555;
      color: #fff;
      text-align: center;
      padding: 5px 0;
      border-radius: 6px;

      /* Position the tooltip text */
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -60px;

      /* Fade in tooltip */
      opacity: 0;
      transition: opacity 0.3s;
    }

    /* Tooltip arrow */
    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #555 transparent transparent transparent;
    }

    /* Show the tooltip text when you mouse over the tooltip container */
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

  </style>
  <link rel='stylesheet' href='https://www.w3schools.com/lib/w3-theme-deep-purple.css'>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
	<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
	<script>

    var objMapPoints = {

    }

    function generateGHmap(){

      var cnv = document.getElementById('cnvGHmap');
      var ctx = cnv.getContext('2d');
      var mapImg = document.getElementById('ghFullMap');
      ctx.drawImage(mapImg,0,0,1292,1053,0,0,600,400);


    }


    function updateFilter(text){
      //filterList();
      var input, filter;
      input = document.getElementById('filterInput');
      /*if (text.length == 0){
        input.value = '';
      } else {
        input.value = text;
      }*/
      input.value = text;
      filterList();
    };

    function filterList( ){

      var input, filter, ul, li, a;
      input = document.getElementById('filterInput');
      ul = document.getElementById('timeline-full');
      li = ul.getElementsByTagName('li');
      filter = input.value.toUpperCase();

      if (filter.length == 0){
        for (var i = 0; i < li.length; i++){
            li[i].style.display = '';
        }
        return true;
      }

      for (var i = 0; i < li.length; i++){
        var innerSpans = li[i].getElementsByTagName('div')[0].getElementsByTagName('span');
        if (innerSpans.length > 2){
          var tags = innerSpans[1].innerHTML.toUpperCase();
          var title = innerSpans[2].innerHTML.toUpperCase();
          console.log('Checking li',i,'Tags/Title',tags,title);
          if (  (tags.indexOf(filter) > -1) || (title.indexOf(filter) > -1) ) {
            li[i].style.display = '';
          } else {
            li[i].style.display = 'none';
          }
        }
      }

    };

    (function(){

      'use strict';

      function elementIsInViewport(el){

        var vp = el.getBoundingClientRect();
        return (
          vp.top >= 0 &&
          vp.left >= 0 &&
          vp.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
          vp.right <= (window.innerWidth || document.documentElement.clientWidth )
        );
      }


      function updateCheck(){
        var listItems = document.querySelectorAll('ul.timeline li.timeline-item');
        for (var i = 0; i < listItems.length; i++){
          if ( elementIsInViewport(listItems[i]) ){
            listItems[i].classList.add('inViewport');
          }else{
            listItems[i].classList.remove('inViewport');
          }
        }
      }

      window.addEventListener('scroll', updateCheck);
      window.addEventListener('load', updateCheck);
      window.addEventListener('resize', updateCheck);
    })();
  </script>

</head>

<body class="w3-dark-grey" onload='generateGHmap()'>
<main id="main">

	<div id="top" class="timeline-main-title">
		<h1>GLOOMHAVEN TIMELINE</h1>
	</div>

		<div class="w3-panel w3-container">
			<p>
  			<div class="w3-quarter">
  				<label for="yearSelect">Jump to: </label>
  				<select onchange="window.location.assign('gh-timeline.html#' +  document.getElementById('yearSelect').value);" id="yearSelect" name="Years:">
  					<option class="yearLink">July 2020</option>
            <option class="yearLink">August 2020</option>
  				</select>
  			</div>
  			<div class="w3-quarter">
  				<label for="tagSelect">Filter: </label>
  				<select onchange="updateFilter(document.getElementById('tagSelect').value);" id="tagSelect" name="Tag:">
  					<option class="tagLink">Scenario</option>
  					<option class="tagLink">Retirement</option>
  					<option class="tagLink">Achievement</option>
  					<option class="tagLink" selected value="">*Clear*</option>
  				</select>
  			</div>
  			<div class="w3-half">
  				<input class="w3-input w3-border" type="text" placeholder="Filter the timeline.." id="filterInput" onkeyup="filterList()">
  			</div>
  		</p>

		</div>

    <div id='ghMap' class='w3-center' style='height: 425px;'>

      <canvas id='cnvGHmap' width='600' height='400'>
        Your browser does not support the canvas element
      </canvas>

      <!--img src="GH-Full-Map.png" alt="Gloomhaven" usemap="#ghMap" width="600" height="400">
      <svg width="600" height="400" style='z-index: 50; position:relative; top:-400px; left:0px;'>
        <ellipse class='tooltip' cx="100" cy="150" rx="5" ry="5" style="fill:green; stroke:1px solid black; fill-opacity: 1">
          <desc class='tooltiptext'>Scenario 1: Black Barrow</desc>
        </ellipse>
      </svg>
      <map name="ghMap">
        <area shape="rect" coords="34,44,270,350" alt="Computer" href="computer.htm">
        <area shape="rect" coords="290,172,333,250" alt="Phone" href="phone.htm">
        <area shape="circle" coords="337,300,44" alt="Cup of coffee" href="coffee.htm">
      </map-->

    </div>

    <div class="timeline-main">

  		<ul id="timeline-full" class="timeline timeline-list">

  			<!-- Timeline YEAR -->
  			<span class="yearAnchor" id="July%202020"></span>

  			<li class="timeline-item timeline-year">
  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<div class="w3-right w3-medium">
  						<a class="top-link w3-tooltip" alt="Back to Top" href="#top">
  							<span class="w3-text">Back to top</span>
  						</a>
  					</div>
  					<div class="timeline-time timeline-title">The Party Begins...</div>
  				</div>
  			</li>


  			<!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">11 July 2020</span> <span class="timeline-tags">Scenario</span>
  					<br>
  					<span class="timeline-title">Sc. 1 - Black Barrow</span>
  					<div class="timeline-desc">
  						<p>Attempt #1 - Got through to the final enemies, but we all exhausted before beating the archers in the last room.</p>
              <p>Characters:</p>
              <ul>
                <li>Amber - Spellweaver</li>
                <li>Matt - Tinkerer</li>
                <li>Naomi - Cragheart</li>
                <li>Oliver - Brute</li>
              </ul>
              <p><a href="https://boardgamegeek.com/play/details/44250469">Logged Play Details</a></p>
  					</div>

  				</div>
  			</li>

        <!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">11 July 2020</span> <span class="timeline-tags">Scenario</span>
  					<br>
  					<span class="timeline-title">Sc. 1 - Black Barrow</span>
  					<div class="timeline-desc">
  						<p>Attempt #2 - We won! Much quicker and lots of gold and XP collected! Straight onto the next scenario - the catacombs!</p>
              <p>Characters:</p>
              <ul>
                <li>Matt - Tinkerer</li>
                <li>Naomi - Cragheart</li>
                <li>Oliver - Brute</li>
              </ul>
              <p><a href="https://boardgamegeek.com/play/details/44255498">Logged Play Details</a></p>
  					</div>

  				</div>
  			</li>

        <!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">11 July 2020</span> <span class="timeline-tags">Achievement</span>
  					<br>
  					<span class="timeline-title">First Steps</span>
  					<div class="timeline-desc">
  						<p>Achieved by completing the first scenario as a party.</p>
  					</div>

  				</div>
  			</li>

        <!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">11 July 2020</span> <span class="timeline-tags">Scenario</span>
  					<br>
  					<span class="timeline-title">Sc. 2 - Barrow Crypts</span>
  					<div class="timeline-desc">
  						<p>We went in hard and although the boss opened all the doors, we killed him and then we managed to hold back the living corpses to win overall!</p>
              <p>Characters:</p>
              <ul>
                <li>Matt - Tinkerer</li>
                <li>Naomi - Cragheart</li>
                <li>Oliver - Brute</li>
              </ul>
              <p><a href="https://boardgamegeek.com/play/details/44260142">Logged Play Details</a></p>
  					</div>

  				</div>
  			</li>

        <!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">17 July 2020</span> <span class="timeline-tags">Scenario</span>
  					<br>
  					<span class="timeline-title">Sc. 3 - Inox Encampment</span>
  					<div class="timeline-desc">
  						<p>We fought hard and eventually got to the last enemies we needed to beat. I had a plan to trap the enemies in a room with a trap, but Amber ran into the middle of that room. She was sacrificed for the good of the party but we all won in the end!</p>
              <p>Characters:</p>
              <ul>
                <li>Amber - Spellweaver</li>
                <li>Matt - Tinkerer</li>
                <li>Naomi - Cragheart</li>
                <li>Oliver - Brute</li>
              </ul>
              <p><a href="https://boardgamegeek.com/play/details/44413080">Logged Play Details</a></p>
  					</div>

  				</div>
  			</li>

        <!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">17 July 2020</span> <span class="timeline-tags">Scenario</span>
  					<br>
  					<span class="timeline-title">Sc. 67 - Arcane Library</span>
  					<div class="timeline-desc">
  						<p>Attempt #1 - The dynamic trio took over when Tinkerer needed to head off to a friend's birthday.</p>
              <p>Characters:</p>
              <ul>
                <li>Amber - Spellweaver</li>
                <li>Naomi - Cragheart</li>
                <li>Oliver - Brute</li>
              </ul>
              <p><a href="https://boardgamegeek.com/play/details/44443536">Logged Play Details</a></p>
  					</div>

  				</div>
  			</li>

        <!-- Timeline YEAR -->
  			<span class="yearAnchor" id="August%202020"></span>

  			<li class="timeline-item timeline-year">
  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<div class="w3-right w3-medium">
  						<a class="top-link w3-tooltip" alt="Back to Top" href="#top">
  							<span class="w3-text">Back to top</span>
  						</a>
  					</div>
  					<div class="timeline-time timeline-title">First Retirement</div>
  				</div>
  			</li>

        <!-- Timeline Item -->
  			<li class="timeline-item">

  				<div class="timeline-panel">
  					<div class="timeline-point"></div>
  					<span class="timeline-time">6 August 2020</span> <span class="timeline-tags">Retirement</span>
  					<br>
  					<span class="timeline-title">Farewell, Inox Brute</span>
  					<div class="timeline-desc">
              <p>After the scenario, our Inox Brute had met his retirement goal - see 16 party members exhausted - and we say farewell to him.</p>
              <p>Our newest party member - the <b>Human Sawbones!</b></p>
  					</div>

  				</div>
  			</li>


      <!-- END OF TIMELINE CONTENT -->
      </ul>

  		<br>

  		<div class="w3-right w3-medium">
  			<a class="top-link w3-tooltip" alt="Back to Top" href="#top">
  				<span class="w3-text">Back to top</span>
  			</a>
  		</div>

  	</div>


  </div>

  <img id='ghFullMap' src='GH-Full-Map.PNG' style='display:none;' />
</main>
</body>
</html>
