<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
		<!--link rel="stylesheet" href="./style.css"-->
		<script src="./data.js"></script>
		<script defer src="./setup.js"></script>
		<script defer src="./draw.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<style>
			/*canvas {
				border: 10px solid black;
			}*/
			canvas {
				width: 100%;
				object-fit: contain;
			}
			table {
				border: 1px solid black;
				border-collapse: collapse;
			}
			tr, th, td {
				border: 1px solid black;
				padding: 1px !important;
				margin: 1px !important;
			}
			td:nth-child(1){
				font-weight: bold;
			}
			td:nth-child(2), td:nth-child(3),
			td:nth-child(6), td:nth-child(7),
			td:nth-child(10), td:nth-child(11),
			td:nth-child(14), td:nth-child(15){
				background-color: lightgray;
			}
			header {
				width: 100%;
				padding: 20px;
			}
			header div {
				width: 100%;
			}
			div.setupTileInfoDiv{
				text-align: center !important;
			}
			h2.setupTileInfo {
				font-size: '16px Arial';
				font-weight: bold;
				text-align: center !important;
			}
			td.neighbourHexId{
				color: blue;
				text-decoration: underline;
			}
			.delayAnim {
				animation-name: delayProgress;
				animation-duration: 5s;
				animation-iteration-count: 14;
			}
			@keyframes delayProgress {
				0%{
					background-image: linear-gradient('red', 'orange') !important;
				}
				50%{
					background-image: linear-gradient('orange','yellow') !important;
				}
				100%{
					background-image: linear-gradient('yellow', 'green') !important;
				}
			}
			label {
				padding-right: 20px !important;
			}
		</style>
	</head>
<body onload="init()">

	<!--div class="w3-row">
		<div class="w3-col s12 m6-->
	<header class="header w3-card-4">
		<div class="w3-container w3-purple">
			<h1>AuZtralia Setup Tool</h1>
		</div>
		<!--em>See <a href="https://github.com/eclectic-matt/web-deployment/tree/master/board/auztralia">Github</a></em-->
		<div id="optionsFormDiv" class="w3-card-4 w3-padding">
			<form id="optionsForm" class="w3-form" onsubmit="event.preventDefault(); processFormOptions();">
				
				<div class="w3-section w3-row">
					<div class="w3-half w3-right-align">
						<label for="delay" class="w3-label w3-right-align">Delay between tile draws (seconds): </label>
					</div>
					<div class="w3-half">
						<input name="delay" class="w3-input w3-border" type="number" min="0" max="60" value="0"></input>
					</div>
				</div>

				<div class="w3-section w3-row">
					<div class="w3-half w3-right-align">
						<label for="solo" class="w3-label ">Solo Play? </label>
					</div>
					<div class="w3-half">
						<input name="solo" class="w3-check w3-border" type="checkbox"></input>
					</div>
				</div>

				<div class="w3-section w3-row">
					<div class="w3-half w3-right-align">
						<label for="board" class="w3-label w3-padding-large">Board: </label>
					</div>
					<div class="w3-half">
						<select class="w3-select w3-border-round" name="board">
							<!--option value="" disabled selected>Choose your board</option-->
							<option value="eastern" selected>Eastern AuZtralia Board</option>
							<option value="western">Western AuZtralia Board (Warning: in test mode)</option>
							<option value="tazmania" disabled>TaZmania Board</option>
						</select>
					</div>
				</div>

				<div class="w3-section">
					<button id="drawSetupBtn" class="w3-btn w3-green">Setup</button>
					<!--br-->
					<button id="resetMapBtn" onclick="window.location.reload()" class="w3-btn w3-red w3-right">Reset Map</button>
				</div>
			</form>
			<script>
				function processFormOptions(){
					
					//GET FORM
					var form = document.getElementById('optionsForm');
					
					//GET DELAY, SET
					var delayEl = form.elements['delay'];
					//MIN 0s, CONVERT TO MS (* 1000)
					options['delay'] = Math.max(0,delayEl.value * 1000);

					//GET SOLO, SET
					var soloEl = form.elements['solo'];
					options['solo'] = soloEl.checked;

					//GET BOARD, SET
					var boardEl = form.elements['board'];
					//QUICK CHECK IF NO BOARD SET
					if(boardEl.value === ''){
						options['board'] = 'eastern';
					}else{
						options['board'] = boardEl.value;
					}

					init();
					drawAllSetupTiles(options['delay']);
				}
			</script>

		</div>
	</header>
	<div class="w3-row-padding">
		<div class="w3-col s12 w3-card-4 w3-padding">
			<canvas id="canvas" width="900" height="700"></canvas>
			<!--canvas id="canvas"></canvas-->
		</div>
		<div class="w3-col s12 w3-card-4 w3-padding">
			<div id='setupInfo'>
				<div id='setupTileInfoDiv'>
					<h2 id='setupTileInfo' class="w3-container w3-green"></h2>
					<br>
					<table id='setupStepsTable' class="w3-table w3-striped w3-tiny">
						<tr>
							<th></th>
							<th colspan="14">Direction/Hex</th>
						</tr>
						<tr>
							<th></th>
							<th colspan="2">Self</th>
							<th colspan="2">Up</th>
							<th colspan="2">Right Up</th>
							<th colspan="2">Right Down</th>
							<th colspan="2">Down</th>
							<th colspan="2">Left Down</th>
							<th colspan="2">Left Up</th>
						</tr>
						<tr>
							<th>Tile</th>
							<th>Hex</th>
							<th>Resource</th>
							<th>Hex</th>
							<th>Resource</th>
							<th>Hex</th>
							<th>Resource</th>
							<th>Hex</th>
							<th>Resource</th>
							<th>Hex</th>
							<th>Resource</th>
							<th>Hex</th>
							<th>Resource</th>
							<th>Hex</th>
							<th>Resource</th>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
</body>
